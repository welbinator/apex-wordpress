'use strict';(function(z,g){const y={themes:{},overlay:null,init(){const c=g.getElementsByClassName("tb_more_details");for(let d=c.length-1;-1<d;--d)c[d].addEventListener("click",this.details.bind(this));this.themes=_tbpThemeSettings;_tbpThemeSettings=null;this.overlay=g.getElementsByClassName("theme-overlay")[0];this.activateImportedTheme()},details(c){c.preventDefault();c.stopPropagation();c=parseInt(c.currentTarget.getAttribute("data-id"));const d=wp.template("tbp-theme-single"),e=this;let f=null,
n,p;for(let b=this.themes.length-1;-1<b;--b)if(this.themes[b].theme_id===c){f=this.themes[b];n=this.themes[b+1];p=this.themes[b-1];break}if(null!==f){f.next=void 0!==n;f.prev=void 0!==p;f.active?this.overlay.classList.add("active"):this.overlay.classList.remove("active");this.overlay.innerHTML=d(f);let b,q,h,r,k;const t=function(a){a.preventDefault();a.stopPropagation();e.overlay.innerHTML="";e.overlay.classList.add("active");v()},m=function(a){a.preventDefault();a.stopPropagation();if(!this.classList.contains("disabled")){a=
this.classList.contains("left")?p.theme_id:n.theme_id;const u=g.getElementsByClassName("tb_more_details");for(let l=u.length-1;-1<l;--l)if(u[l].getAttribute("data-id")==a){v();u[l].click();break}}},w=function(a){a.stopPropagation();a.preventDefault();confirm(_tbp_app.confirmDelete)&&(window.location.href=this.href)},x=function(a){a.stopPropagation();a.preventDefault();g.getElementsByClassName("tbp_themes")[0].querySelector('.tbp_lightbox_edit[data-post-id="'+this.getAttribute("data-post-id")+'"]').click();
t(a)},v=function(){b.removeEventListener("click",m);q.removeEventListener("click",m);r.removeEventListener("click",t,{once:!0});void 0!==h&&h.removeEventListener("click",w);void 0!==k&&k.removeEventListener("click",x)};r=this.overlay.getElementsByClassName("close")[0];b=this.overlay.getElementsByClassName("left")[0];q=this.overlay.getElementsByClassName("right")[0];h=this.overlay.getElementsByClassName("delete-theme")[0];k=this.overlay.getElementsByClassName("tbp_lightbox_edit")[0];void 0!==h&&h.addEventListener("click",
w);void 0!==k&&k.addEventListener("click",x);r.addEventListener("click",t,{once:!0});b.addEventListener("click",m);q.addEventListener("click",m)}},activateImportedTheme(){z("body").on("themify_plupload_selected",function(c,d,e){null!==e.active&&(confirm(e.msg)?window.location.href=e.active:window.location.reload(!0))})}};"complete"===g.readyState?y.init():window.addEventListener("load",function(){y.init()},{once:!0,passive:!0})})(jQuery,document);
