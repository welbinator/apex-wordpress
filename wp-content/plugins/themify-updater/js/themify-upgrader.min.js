'use strict';(function(b,h,k,l){function g(a){a="error"==a?"error":"done";b(".themify_updater_alert").removeClass("busy").addClass(a).delay(800).fadeOut(800,function(){b(this).removeClass(a)})}b("#themify-updater-search .clear-search").on("click",function(){b(this).prev().val("");b(k).trigger("themify_update_promo")});b("#themify-updater-search .promo-search").on("input",function(a){a=b(this);var d=a.val().toLowerCase();a=a.siblings(".clear-search");""!=d&&0<b(".theme-list li").length&&b(".theme-list li").filter(function(){var c=
b(this);1==c.is(":visible")&&-1<c.find(".theme-title h3").text().toLowerCase().indexOf(d)?c.show():(c.hide(),c.parent().append(c))});""==d?a.click().hide():a.show()});b(".upgrade-theme-button").on("click",function(a){a.preventDefault();a.stopPropagation();a=JSON.parse(atob(b(a.target).data("install")));var d=b("#themeversiontoreinstall").val(),c=a.url+"?";delete a.url;for(var f in a)c+=f+"="+a[f]+"&";h.location=c+("themify-theme=1&version="+d)});b(function(){b("#wpbody").on("click","a.themify-updater",
function(a){a.preventDefault();if(b(this).hasClass("themify-updater-stop"))b(this).closest(".notifications").after('<div id="themifyUpdateRrror" class="notice notice-error is-dismissible">'+themify_upgrader_license.error_message+"</div>");else if(confirm(themify_upgrader.check_backup)){a=b(this);var d=a.closest(".notifications"),c=a.data("update_type"),f={slug:a.data("plugin"),action:c.substring(0,c.length-1),_ajax_nonce:a.data("nonce"),_fs_nonce:"",username:"",password:"",connection_type:"",public_key:"",
private_key:""};"update-plugins"===c&&(f.plugin=a.data("base"));b.ajax({url:ajaxurl,type:"POST",data:f,beforeSend:function(){b(".themify_updater_alert").addClass("busy").fadeIn(800)},success:function(e){e="string"===typeof e?JSON.parse(e):e;e.success?(g(),setTimeout(function(){location.reload()},1500)):(g("error"),0<d.siblings("#themifyUpdateRrror").length&&d.siblings("#themifyUpdateRrror").remove(),d.after('<div id="themifyUpdateRrror" class="notice notice-error is-dismissible">'+e.data.errorMessage+
"</div>"))},error:function(){g("error")}})}});b(".themify_updater_changelogs").on("click",function(a){a.preventDefault();a=b(this).data("changelog");b(".themify-updater-promt-box .show-error").hide();b(".themify_updater_alert").addClass("busy").fadeIn(300);b(".themify_updater_promt_overlay,.themify-updater-promt-box").fadeIn(300);b('<iframe src="'+a+'" />').on("load",function(){b(".themify_updater_alert").removeClass("busy").fadeOut(300)}).prependTo(".themify-updater-promt-box");b(".themify-updater-promt-box").addClass("show-changelog");
b(".themify_updater_promt_overlay").one("click",function(d){b(this).fadeOut(300);b(".themify-updater-promt-box").fadeOut(300).find("iframe").remove()})})});b(".notifications .notification-group span:first-child").on("click",function(a){a.preventDefault();b(this).siblings().fadeToggle()}).siblings().fadeToggle()})(jQuery,window,document);
